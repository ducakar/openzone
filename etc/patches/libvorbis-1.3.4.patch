diff -Naur libvorbis-1.3.4.orig/config.sub libvorbis-1.3.4/config.sub
--- libvorbis-1.3.4.orig/config.sub	2012-09-18 04:53:51.000000000 +0200
+++ libvorbis-1.3.4/config.sub	2014-02-25 00:32:20.212436698 +0100
@@ -490,6 +490,10 @@
 		basic_machine=m68k-unknown
 		os=-sysv4
 		;;
+	android)
+		basic_machine=i686-pc
+		os=-android
+		;;
 	apollo68)
 		basic_machine=m68k-apollo
 		os=-sysv
@@ -630,6 +634,10 @@
 		basic_machine=elxsi-elxsi
 		os=-bsd
 		;;
+	emscripten)
+		basic_machine=i686-pc
+		os=-emscripten
+		;;
 	encore | umax | mmax)
 		basic_machine=ns32k-encore
 		;;
@@ -833,6 +841,10 @@
 		basic_machine=le32-unknown
 		os=-nacl
 		;;
+	nacl)
+		basic_machine=i686-pc
+		os=-nacl
+		;;
 	ncr3000)
 		basic_machine=i486-ncr
 		os=-sysv4
@@ -1362,7 +1374,8 @@
 	      | -os2* | -vos* | -palmos* | -uclinux* | -nucleus* \
 	      | -morphos* | -superux* | -rtmk* | -rtmk-nova* | -windiss* \
 	      | -powermax* | -dnix* | -nx6 | -nx7 | -sei* | -dragonfly* \
-	      | -skyos* | -haiku* | -rdos* | -toppers* | -drops* | -es*)
+	      | -skyos* | -haiku* | -rdos* | -toppers* | -drops* | -es* \
+	      | -nacl* | -android* | -emscripten*)
 	# Remember, each alternative MUST END IN *, to match a version number.
 		;;
 	-qnx*)
diff -Naur libvorbis-1.3.4.orig/configure libvorbis-1.3.4/configure
--- libvorbis-1.3.4.orig/configure	2014-01-22 12:10:03.000000000 +0100
+++ libvorbis-1.3.4/configure	2014-02-25 00:34:48.772678122 +0100
@@ -12264,7 +12264,7 @@
 		PROFILE="-pg -g -O20 -ffast-math -D_REENTRANT -fsigned-char";;
  	*)
 		DEBUG="-g -Wall -Wextra -D__NO_MATH_INLINES -fsigned-char"
-		CFLAGS="-O20 -Wall -Wextra -D__NO_MATH_INLINES -fsigned-char"
+		CFLAGS="-Wall -Wextra -D__NO_MATH_INLINES -fsigned-char"
 		PROFILE="-O20 -g -pg -D__NO_MATH_INLINES -fsigned-char" ;;
         esac
 
